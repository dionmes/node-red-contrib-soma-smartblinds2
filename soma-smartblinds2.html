<script type="text/javascript">

	RED.nodes.registerType('soma-smartblinds2',{
		category: 'devices',
		color: '#ff7f00',
		inputs:1,
		outputs:1,
		align: 'right',
		label: 'Smart Blinds',
		paletteLabel: 'SmartBlinds2',
		icon: 'smartblinds.svg',		
		defaults: {
			btId: {value: "", required: true },
		}
	});

</script>

<script type="text/html" data-template-name="soma-smartblinds2">

	<div class="form-row">
		<label for="node-input-btId"><i class="fa fa-bookmark"></i> Bluetooth ID </label>
		<input type="text" id="node-input-btId">
	</div>
	
	<div class="form-tips"><b>Tip: </b>Look for device ID in the Smart Blinds 2 app under Troubleshooting - Serial Number. Which is actually the Bluetooth network address. You can input it with or without : .</div>
	 
</script>

<script type="text/html" data-help-name="soma-smartblinds2">
	<p>Node for Soma SmartBlinds 2.</p>
	In the Device ID menu select the SmartBlinds device to connect.
	The SOMA smart shade device needs to be configured with the SOMA app before connecting.
	After pressing the scan button, devices will appear in the dropdown menu. Look for devices with the name S or RISE to connect with the device.
	<h3>Messages</H3>
	The Node will report battery and position messages.
	</p>
	<h3>Commands</H3>
	The input of the node accepts movement commands.<br><br>
	<ul>
		<li>MoveTo 'position 0-100' (ex. Moveto 50)</li>
		<li>GetPosition</li>
		<li>MoveUp</li>
		<li>MoveDown</li>
		<li>Stop</li>
		<li>Identify</li>
	</ul>
	The device will try to move to the exact position but will stop at approximation. Position will be correctly reported.
	<br>
</script>
